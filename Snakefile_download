import csv

configfile: "config/config.yaml"

'''
def get_fastq_to_download(wildcards):
    return config["samples"][wildcards.sample]
        
def get_osd_id(wildcards):
    return config["osd_id"][wildcards.osd_id]
'''


rule download_data:
    input:
        "config.yaml"
    output: 
        expand("{sample}", sample=config["samples"])
    conda:
        "envs/genelab-utils.yaml"
    log:
        "download_data.log"
    params:
        osd_id=expand("{osd_id}", osd_id=config["osd_id"]),
        subsampling=config["subsample"],
        nsubreads=config["subreads"]
    shell:
        """
        scripts/download_rule.sh "{params.osd_id}" "{output}" "{params.subsampling}" {params.nsubreads}
        """
